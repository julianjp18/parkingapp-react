(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),n=a(3),l=a.n(n),o=(a(15),a(4)),c=a(5),u=a(7),i=a(6),m=a(8),p=a(1),d=function(e){function t(){var e,a;Object(o.a)(this,t);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={plates:[],goodMessage:!1,alert:""},a.handleOnAddCar=a.handleOnAddCar.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleOnAddCar",value:function(e){e.preventDefault();var t=e.target,a=new Date,s={carPlate:t.txtLetters.value+"-"+t.txtNumbers.value,date:a.getDay(),day:a.getDate(),month:a.getMonth(),hours:a.getHours(),minutes:a.getMinutes(),state:!0};this.state.plates.length>0&&this.state.plates.find(function(e){return e.carPlate===s.carPlate&&!0===s.state})?this.deletePlate(s):this.addPlate(s),t.reset()}},{key:"deletePlate",value:function(e){var t=this,a=0,s=this.state.plates.indexOf(this.state.plates.find(function(t){return t.carPlate===e.carPlate&&!0===e.state}));if(s>-1){var r=this.state.plates;if(r[s].state=!1,r[s].date>0&&r[s].date<=6){var n=new Date,l=n.getDay()-r[s].date,o=r[s].hours+":"+r[s].minutes;if(r[s].date===n.getDay())a=this.calculateDay(r[s],n,o,r[s].hours,n.getDate(),n.getMonth());else for(var c=0;c<l+1;c++)a=this.calculateDay(r[s],n,o,r[s].hours,r[s].day,r[s].month);this.setState({plates:r,goodMessage:"Se realiz\xf3 el calculo del pago para la placa ".concat(e.carPlate," correctamente. \n\n                        Total a pagar es: ").concat(a," \n                        "),alert:"alert alert-warning"})}else this.setState({plates:r,goodMessage:"Se realiz\xf3 el calculo del pago correctamente. \n\n                        Total a pagar es: $ 8000 pesos\n                        ",alert:"alert alert-warning"}),setTimeout(function(){console.log(t.state.plates)},2e3)}else this.setState({goodMessage:"ERROR, placa no registrada\n                      ",alert:"alert alert-danger"})}},{key:"calculateDay",value:function(e,t,a,s,r,n){var l=new Date("August 19, 1975 23:15:30"),o=new Date("August 19, 1975 23:15:30"),c=0,u=0,i=0,m=t.getHours()+":"+t.getMinutes(),p=t.getHours()-s;r!==t.getDate()&&n!==t.getMonth()&&(m="23:59");var d=Math.floor(p/12),g=p;if(d>0){for(var h=0;h<d;h++)i+=12e3,p-=12;return c=60*g,"$ ".concat(i+=60*p*40," pesos, tiempo transcurrido: ").concat(c," minutos")}return Date.parse("01/01/2019 "+a)>=Date.parse("01/01/2019 8:00")&&Date.parse("01/01/2019 "+a)<=Date.parse("01/01/2019 7:59")&&Date.parse("01/01/2019 "+a)>=Date.parse("01/01/2019 19:01")&&Date.parse("01/01/2019 "+a)<=Date.parse("01/01/2019 23:59")&&(u=40),Date.parse("01/01/2019 "+m)>=Date.parse("01/01/2019 00:00")&&Date.parse("01/01/2019 "+m)<=Date.parse("01/01/2019 7:59")&&(l.setHours(e.hours,e.minutes,0),o.setHours(t.getHours(),t.getMinutes(),0),c+=(o-l)/6e4,i+=(o-l)/6e4*u),Date.parse("01/01/2019 "+a)>=Date.parse("01/01/2019 19:01")&&Date.parse("01/01/2019 "+a)<=Date.parse("01/01/2019 23:59")&&Date.parse("01/01/2019 "+m)>=Date.parse("01/01/2019 19:01")&&Date.parse("01/01/2019 "+m)<=Date.parse("01/01/2019 23:59")&&(l.setHours(e.hours,e.minutes,0),o.setHours(t.getHours(),t.getMinutes(),0),c+=(o-l)/6e4,i+=(o-l)/6e4*u),Date.parse("01/01/2019 "+a)>=Date.parse("01/01/2019 8:00")&&Date.parse("01/01/2019 "+a)<=Date.parse("01/01/2019 19:00")&&(u=70),Date.parse("01/01/2019 "+m)>=Date.parse("01/01/2019 8:00")&&Date.parse("01/01/2019 "+m)<=Date.parse("01/01/2019 19:00")?(l.setHours(e.hours,e.minutes,0),o.setHours(t.getHours(),t.getMinutes(),0),c+=(o-l)/6e4,i+=(o-l)/6e4*u):(l.setHours(e.hours,e.minutes,0),o.setHours(19,0,0),c+=(o-l)/6e4,i+=(o-l)/6e4*u,u=40,l.setHours(19,1,0),o.setHours(t.getHours(),t.getMinutes(),0),c+=(o-l)/6e4,i+=(o-l)/6e4*u),"\n              $ ".concat(i," pesos, tiempo transcurrido: ").concat(c," minutos")}},{key:"addPlate",value:function(e){this.setState({plates:this.state.plates.concat([e]),goodMessage:"Placa ".concat(e.carPlate," registrada correctamente"),alert:"alert alert-success"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("br",null),r.a.createElement("h1",{className:"text-center"},"ParkingApp - App de Prueba"),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("p",null,"Ingresa la placa del veh\xedculo, ya sea para ",r.a.createElement("b",null,"ingreso"),"  o ",r.a.createElement("b",null,"salida"),"."),r.a.createElement("div",{className:this.state.alert},this.state.goodMessage)),r.a.createElement("br",null),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("br",null),r.a.createElement("form",{className:"form-inline justify-content-center",onSubmit:this.handleOnAddCar},r.a.createElement("div",{className:"form-group mb-2"},r.a.createElement("label",{htmlFor:"staticEmail2",className:""},"N\xfamero de placa")),r.a.createElement("div",{className:"form-group mx-sm-3 mb-2"},r.a.createElement("input",{type:"text",name:"txtLetters",className:"form-control",id:"inputPassword2",required:!0,maxLength:"3",placeholder:"Letras",title:"Solamente letras"}),r.a.createElement("label",{htmlFor:"inputPassword2",className:""},"-"),r.a.createElement("input",{type:"number",name:"txtNumbers",className:"form-control",id:"inputPassword2",required:!0,min:"0",max:"999",placeholder:"N\xfameros"})),r.a.createElement("button",{type:"submit",className:"btn btn-success mb-2"},"Ingresar placa")))))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(17)}},[[9,2,1]]]);
//# sourceMappingURL=main.82b21d90.chunk.js.map